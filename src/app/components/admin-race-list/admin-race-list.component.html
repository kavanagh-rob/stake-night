<div>
    <h4>Race List</h4>
    <table class="table hoverTable" *ngIf="races">
        <thead>
            <tr>
                <th scope="col">Race Number</th>
                <th scope="col">Race Name</th>
                <th scope="col"></th>
                <th scope="col"></th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody *ngFor="let race of sortRaceList(races); let i = index">
            <tr [ngClass]="isCurrentRace(race) ? 'currentRace': ''">
                <td (click)="toggleAccordian(i)">{{race.number}}</td>   
                <td (click)="toggleAccordian(i)">{{race.name}}</td>
                <td><app-race-form [race]="race"></app-race-form></td>
                <td><button (click)="deleteRace(race)" class="btn btn-danger">Delete Race</button></td>
                <td [hidden]="isCurrentRace(race)"><button (click)="makeCurrentRace(race)" class="btn btn-success">Make Current Race</button></td>
                <td [hidden]="!isCurrentRace(race)"><button (click)="clearCurrentRace()" class="btn btn-secondary">Unset Current Race</button></td>
            </tr>
            <tr [hidden]="!(accordianOpened === i)" class="race-accordian">
                <td colspan="6"class="table-cell-text raceInfoTable">
                    <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Property</th>
                                    <th scope="col">Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ID</td>
                                    <td>{{race.id}}</td>
                                </tr>
                                <tr>
                                    <td>Number</td>
                                    <td>{{race.number}}</td>
                                </tr>
                                <tr>
                                    <td>Race Name</td>
                                    <td>{{race.name}}</td>
                                </tr>
                                <tr>
                                    <td>Payout Factor</td>
                                    <td>{{race.payoutFactor}}</td>
                                </tr>
                                <tr>
                                    <td>Show Payout Factor</td>
                                    <td>{{race.showPayoutFactor}}</td>
                                </tr>
                                <tr>
                                    <td>Race Card URL</td>
                                    <td>{{race.raceCardImageUrl}}</td>
                                </tr>
                                <tr>
                                    <td>Is Active</td>
                                    <td>{{race.isActive}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">Horse Number</th>
                                        <th scope="col">Horse Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let horse of sortHorseList(horses); let j = index">
                                        <td>{{horse.number}}</td>
                                        <td>{{horse.name}}</td>   
                                    </tr>
                                </tbody>
                            </table>
                </td>    
                
            </tr>
        </tbody>
    </table>
</div>